\chapter{Directory, InodeTable, and\\InodeEntry class and attributes\\representation}
This chapter present \mbox{pseudo-code} of the different data structures used by \gls{FFS}. Listing~\ref{lst:dir_itable_classes} presents the attributes each C++ class stores \mbox{in-memory}, that is also encoded into the binary representation of the object when it is serialized before being uploaded to the \gls{OWS}.

\label{app:inode_dir_code}
\begin{lstlisting}[language=python, caption={The attributes classes representing directories and the inode table in \gls{FFS}}, label=lst:dir_itable_classes,breaklines=true]

# typedef inode_id = uint32_t

# Represents a directory in \gls{FFS}. Keeps track of the filename and inode of each file
class Directory
	# Map of (filename, inode id) representing the content of the directory
	map<string, inode_id> entries


# Represents an entry in the inode table, representing a file or directory
class InodeEntry
	# The size of the file (not used for directories) 
	uint32_t length

	# True if the entry describes a directory, false if it describes a file
	uint8_t is_dir

	# When the file first was created
	uint64_t time_created
	# When the file was last accessed
	uint64_t time_accessed
	# When the file was last modified
	uint64_t time_modified

	# A list representing the posts of the file or directory. 
	string[] post_ids

# Represents the inode table of the filesystem. The table consists of multiple inode entries
class InodeTable
	# Map of (inode id, inode entry) for each file and directory in the filesystem
	map<inode_t, InodeEntry> entries

\end{lstlisting}